<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>びすこリーグ予想</title>

<link rel="manifest" href="manifest.json">
<link rel="icon" href="icon-predict.png">
<link rel="apple-touch-icon" href="icon-predict.png">
<meta name="theme-color" content="#ffffff">

<style>
  :root {
    --primary: #007BFF; /* 水色 */
    --inactive: #AAAAAA; /* 薄いグレー */
    --header-bg: #333333; /* 濃いグレー */
    --bg-color: #F4F4F9;
  }

  html, body { margin: 0; height: 100%; background: var(--bg-color); font-family: sans-serif; color: #333; overflow: hidden; }

  /* ===== スプラッシュ画面 ===== */
  #splash{
    position:fixed; inset:0; background:#ffffff;
    display:flex; justify-content:center; align-items:center;
    z-index:9999; transition:opacity 0.6s ease;
  }
  #logo-anim{ position:relative; width:800px; height:800px; max-width:60vw; max-height:60vw; }
  .part{ position:absolute; top:0; left:0; width:100%; opacity:0; }
  
  /* SVGアニメーション */
  .leftL{ animation:leftIn 0.8s ease forwards; }
  .three{ animation:threeIn 0.8s ease 0.6s forwards; }
  .rightL{ animation:rightIn 0.8s ease 1.3s forwards; }
  .text{
    transform:scaleX(0); transform-origin:left center;
    animation:textExpand 0.8s cubic-bezier(.65,0,.35,1) 1.8s forwards;
  }
  @keyframes leftIn{ from{transform:translateY(80px);opacity:0;} to{transform:translateY(0);opacity:1;} }
  @keyframes threeIn{ from{transform:translateY(-80px);opacity:0;} to{transform:translateY(0);opacity:1;} }
  @keyframes rightIn{ from{opacity:0;transform:scale(0.9);} to{opacity:1;transform:scale(1);} }
  @keyframes textExpand{ to{opacity:1;transform:scaleX(1);} }

  /* ===== コンテンツヘッダー ===== */
  .header {
    background: var(--header-bg); color: white; padding: 10px 15px;
    display: flex; justify-content: space-between; align-items: center;
    position: fixed; top: 0; width: 100%; height: 50px; box-sizing: border-box; z-index: 1000;
    opacity: 0; transition: opacity 0.6s ease;
  }
  .header-left { font-weight: bold; font-size: 1.2rem; }
  .header-right { display: flex; align-items: center; gap: 10px; }
  .bell-icon { width: 24px; height: 24px; }

  /* ===== コンテンツエリア ===== */
  .content-area {
    margin-top: 50px; margin-bottom: 60px;
    height: calc(100vh - 110px); overflow-y: auto;
    padding: 15px; box-sizing: border-box;
    opacity: 0; transition: opacity 0.6s ease;
  }
  .page { display: none; }
  .page.active { display: block; }
  .card {
    background: white; border-radius: 12px; padding: 15px;
    margin-bottom: 15px; box-shadow: 0 2px 8px rgba(0,0,0,0.05);
  }
  h3 { margin-top: 0; font-size: 1rem; color: #555; }

  /* ===== 下部タブバー ===== */
  .bottom-tab-bar {
    position: fixed; bottom: 0; width: 100%; height: 60px;
    background: white; display: flex; justify-content: space-around;
    align-items: center; border-top: 1px solid #ddd; z-index: 1000;
    opacity: 0; transition: opacity 0.6s ease;
  }
  .tab-item {
    display: flex; flex-direction: column; align-items: center;
    text-decoration: none; color: var(--inactive);
    font-size: 0.7rem; cursor: pointer;
  }
  .tab-item.active { color: var(--primary); }
  .tab-item img { width: 24px; height: 24px; margin-bottom: 2px; }
</style>
</head>

<body>

<div id="splash">
  <div id="logo-anim">
    <img src="blueL-left.svg" class="part leftL">
    <img src="three.svg" class="part three">
    <img src="blueL-right.svg" class="part rightL">
    <img src="text.svg" class="part text">
  </div>
</div>

<header class="header" id="main-header">
  <div class="header-left">びすこリーグ</div>
  <div class="header-right">
    <span class="user-name">〇〇さん</span>
    <img src="bell.svg" alt="通知" class="bell-icon">
  </div>
</header>

<div class="content-area" id="main-content">
  <div id="page-home" class="page active">
    <div class="card"><h3>お知らせ</h3><p>読込中...</p></div>
  </div>
  </div>

<nav class="bottom-tab-bar" id="main-tabbar">
  </nav>

<script>
  // 1. スプラッシュ画面の制御
  window.addEventListener("load",()=>{
    setTimeout(()=>{
      const splash = document.getElementById("splash");
      const mainContent = document.getElementById("main-content");
      const mainHeader = document.getElementById("main-header");
      const mainTabbar = document.getElementById("main-tabbar");

      splash.style.opacity = "0";

      setTimeout(()=>{
        splash.style.display = "none";
        mainContent.style.opacity = "1";
        mainHeader.style.opacity = "1";
        mainTabbar.style.opacity = "1";
      },600);
    },3000); // 3秒間スプラッシュを表示
  });

  // 2. タブ切り替え制御
  function switchPage(pageId) {
    document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
    document.querySelectorAll('.tab-item').forEach(t => t.classList.remove('active'));
    document.getElementById('page-' + pageId).classList.add('active');
    event.currentTarget.classList.add('active');
  }

  // 3. GASからデータを取得する処理 (後ほど実装)
  function loadData() {
    // google.script.run...
  }
</script>

</body>
</html>
